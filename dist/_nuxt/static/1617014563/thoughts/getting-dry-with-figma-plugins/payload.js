__NUXT_JSONP__("/thoughts/getting-dry-with-figma-plugins", {data:[{page:{title:"Getting DRY with Figma plugins",content:"\u003Cp\u003EThere&rsquo;s a concept it DRY in development. It means Don&rsquo;t Repeat Yourself and is all about code reduction through declaring and reusing shared resources. Say for example that I have a simple conditional statement that checks for all the correct\r\ntypes in a Figma plugin to determine if it can make adjustments. I could do the following to do it:\u003C\u002Fp\u003E\u003Cp data-empty=\"true\"\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Cdiv class=\"w-3\u002F4 overflow-x-auto\"\u003E\u003Cdiv class=\"whitespace-pre\"\u003E\u003Cpre class=\"rounded-xl\"\u003E\u003Ccode class=\"language-javascript\"\u003E \r\n\tif (node.type === &quot;FRAME&quot;) {\r\n\tconst frame = figma.createRectangle()\r\n\tframe.width = node.width\r\n\tframe.height = node.height\r\n\t\u002F\u002F and so on\r\n\t}\r\n\r\n\tif (node.type === &quot;GROUP&quot;) {\r\n\tconst frame = figma.createRectangle()\r\n\tframe.width = node.width\r\n\tframe.height = node.height\r\n\t\u002F\u002F and so on\r\n\t}\r\n\r\n\tif (node.type === &quot;ELLIPSE&quot;) {\r\n\tconst frame = figma.createRectangle()\r\n\tframe.width = node.width\r\n\tframe.height = node.height\r\n\t\u002F\u002F and so on\r\n\t}\r\n\r\n\t\u002F\u002F ... \r\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cp data-empty=\"true\"\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Cp\u003EBut what I&rsquo;m doing there is redeclaring the same information multiple times, what a waste of compute power. So instead I can bundle these into one. It&rsquo;s difficult to use \u003Ccode\u003E!==\u003C\u002Fcode\u003E declaration, so the best way is to use our friend \u003Ccode\u003E.includes()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\u003Cp data-empty=\"true\"\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Cdiv class=\"w-3\u002F4 overflow-x-auto\"\u003E\u003Cdiv class=\"whitespace-pre\"\u003E\u003Cpre class=\"rounded-xl\"\u003E\u003Ccode class=\"language-javascript\"\u003E  \r\nconst nodeTypes = [&quot;FRAME&quot;, &quot;GROUP&quot;, &quot;ELLIPSE&quot;]\r\n\r\n if (nodeTypes.includes(node.type)) {\r\n const frame = figma.createRectangle()\r\n frame.width = node.width\r\n frame.height = node.height\r\n \u002F\u002F and so on\r\n }\r\n\r\n\u002F\u002F ...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cp data-empty=\"true\"\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Cp\u003EIn design we can do a similar thing using atomic components, building up reusable assets as lego blocks to avoid having to keep creating new assets. However, we can also take it a step further into the productivity side of design using Figma plugins.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch2\u003EFigma Plugins, what&rsquo;s the deal?\u003C\u002Fh2\u003E\u003Cp\u003EWell, you&rsquo;ve had a sneak peak at a bit of Figma plugin code above. Figma plugins use Typescript under the hood to allow you to create, modify and elevate your Figma project.\u003C\u002Fp\u003E\u003Cp\u003EAs you probably know, I&rsquo;m an evangelist for the &ldquo;Designers should Code&rdquo; philosophy, at least, I feel Designers should understand some code. And I&rsquo;ve taken that further to believe that knowing how to write enough Javascript to build\r\nyour own Figma plugins is a superpower all Designers should try to harness.\u003C\u002Fp\u003E\u003Cp\u003EFigma plugins enable Designers to perform at optimum operational capacity without the burden of loads of admin overhead. At \u003Ca href=\"https:\u002F\u002Fwww.homehero.co.uk\"\u003EHomeHero\u003C\u002Fa\u003E, we&rsquo;re using a bunch of custom Figma plugins that I&rsquo;ve written (including\r\nthe ones I&rsquo;ve actually released) to better maintain our files. I&rsquo;ll cover what some of these.\u003C\u002Fp\u003E\u003Cp\u003EUltimately, Figma plugins stop us from repeating ourselves with common admin tasks to clean up our files, they allow us to focus on designing the best experience instead of organising our contents.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch2\u003EThe &lsquo;Gist&rsquo; of how plugins work\u003C\u002Fh2\u003E\u003Cp\u003EA couple of these Gists use the Scripter plugin to work as it has its own API to simplify some bits, grab it \u003Ca href=\"https:\u002F\u002Fwww.figma.com\u002Fcommunity\u002Fplugin\u002F757836922707087381\u002FScripter\" target=\"_blank\"\u003Ehere\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch3\u003EHomeHero TextLint\u003C\u002Fh3\u003E\u003Cp\u003EOne of the first plugins I wrote for us was aimed at simplifying text linting. We have a bunch of phrases we write in our designs regularly thanks to our industry, and there&rsquo;s many times that we mis-type them and this sometimes makes its way to\r\nproduct (oh dear!). To avoid that, I&rsquo;ve written a super simply linter that parses the document and updates all text characters that match my arrays. It&rsquo;s not the cleanest or best code, but it saves us a bunch of time.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Cdiv class=\"w-3\u002F4 overflow-x-auto\"\u003E\u003Cdiv class=\"whitespace-pre\"\u003E\u003Cpre class=\"rounded-xl\"\u003E\u003Ccode class=\"language-javascript\"\u003E \r\n\r\nconst find = [&quot;Move in&quot;, &quot;move in&quot;, &quot;Homehero&quot;, &quot;wifi&quot;, &quot;Wifi&quot;, &quot;WiFi&quot;];\r\nconst replace = [&quot;Move-in&quot;, &quot;move-in&quot;, &quot;HomeHero&quot;, &quot;Wi-Fi&quot;];\r\n\r\nconst layers = figma.currentPage.findAll((node) =&gt; node.type === &quot;TEXT&quot;);\r\nfigma.currentPage.selection = layers;\r\nconst { selection } = figma.currentPage;\r\n\r\nasync function lintTextNodes(): Promise {\r\n  figma.root.children.flatMap((pageNode) =&gt;\r\n    pageNode.selection.forEach(async (node) =&gt; {\r\n      if (layers.length &gt; 0 &amp;&amp; node.type === &quot;TEXT&quot;) {\r\n        await figma.loadFontAsync(node.fontName as FontName);\r\n        node.characters = node.characters.replaceAll(find[0], replace[0]);\r\n        node.characters = node.characters.replaceAll(find[1], replace[1]);\r\n        node.characters = node.characters.replaceAll(find[2], replace[2]);\r\n        node.characters = node.characters.replaceAll(find[3], replace[3]);\r\n        node.characters = node.characters.replaceAll(find[4], replace[3]);\r\n        node.characters = node.characters.replaceAll(find[5], replace[3]);\r\n      }\r\n      return Promise.resolve(&quot;Done!&quot;);\r\n    })\r\n  );\r\n  if (layers.length === 0) {\r\n    return Promise.reject(&quot;No layers selected&quot;);\r\n  }\r\n}\r\n\r\nlintTextNodes();\r\nfigma.notify(&quot;All linted&quot;);\r\n\r\nfigma.closePlugin();\r\n\r\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch3\u003EHomeHero CropAll\u003C\u002Fh3\u003E\u003Cp\u003EThe second was a quick way to set all images to the \u003Ccode\u003E&quot;FILL&quot;\u003C\u002Fcode\u003E mode and apply a resize constraint on them all. It&rsquo;s not full proof, but it gets all your images to the same basic starting point. We needed to do this because we have a tonne of images we use for our Picks feature and they all need to be set to the same size to reduce bandwidth when served to the app.\u003C\u002Fp\u003E\u003Cp\u003EWhen you have over 400 images, you want this!\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Cdiv class=\"w-3\u002F4 overflow-x-auto\"\u003E\u003Cdiv class=\"whitespace-pre\"\u003E\u003Cpre class=\"rounded-xl\"\u003E\u003Ccode class=\"language-javascript\"\u003E \r\n\r\nconst layers = figma.currentPage.findAll(isImage);\r\nfigma.currentPage.selection = layers\r\n\r\nfor (let shape of await find(selection(), n =&gt; isImage(n) &amp;&amp; n)) {\r\n\u002F\u002F Update image paints to use &quot;FILL&quot; scale mode\r\n  shape.fills = shape.fills.map(p =&gt;\r\n  isImage(p) ? {...p, scaleMode: &quot;FILL&quot;,} : p)\r\n  shape.resize(375, 375)\r\n}\r\n\r\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch3\u003EHomeHero Slide Export\u003C\u002Fh3\u003E\u003Cp\u003EFinally, we work in Figma to create our investor slide decks and other slides to share our design progress or lunch and learns. It&rsquo;s great but it&rsquo;s annoying when you need to then turn these into an exported set of slides.\u003C\u002Fp\u003E\u003Cp\u003ELuckily, we can use Figma plugins to apply some simple settings to make this happen and then export those Frames for others to use (you can even use my \u003Ca href=\"https:\u002F\u002Fwww.kejk.com\u002Flazy-pdf\"\u003ELazy PDF\u003C\u002Fa\u003E app to compress it into a lossless PDF afterwards).\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Cdiv class=\"w-3\u002F4 overflow-x-auto\"\u003E\u003Cdiv class=\"whitespace-pre\"\u003E\u003Cpre class=\"rounded-xl\"\u003E\u003Ccode class=\"language-javascript\"\u003E \r\n\r\nconst layers = figma.currentPage.findAll();\r\nconst frames = layers.filter(isFrame);\r\n\r\nasync function renameFrames() {\r\n    let items = frames;\r\n    if (items.length &gt; 0) {\r\n        for (const node of items) {\r\n            if (node.type === &quot;FRAME&quot;) {\r\n                node.name = ((node.name).substr(0,2) != &#39;Slide\u002F&#39;) \r\n? node.name = &quot;Slide&quot; + &quot;\u002F&quot; + node.name : node.name;\r\n            }\r\n        }\r\n    }\r\n}\r\nrenameFrames();\r\n\r\nfigma.currentPage.selection = layers.filter((n) =&gt; n.name.startsWith(&quot;Slide\u002F&quot;));\r\nconst { selection } = figma.currentPage;\r\n\r\nfunction hasValidSelection(nodes) {\r\n  return !(!nodes || nodes.length === 0);\r\n}\r\n\r\nconst settings = [\r\n  { format: &quot;PNG&quot;, suffix: &quot;@1x&quot;, constraint: { type: &quot;SCALE&quot;, value: 1 } },\r\n  { format: &quot;PNG&quot;, suffix: &quot;@2x&quot;, constraint: { type: &quot;SCALE&quot;, value: 2 } },\r\n  { format: &quot;PNG&quot;, suffix: &quot;@3x&quot;, constraint: { type: &quot;SCALE&quot;, value: 3 } },\r\n  { format: &quot;SVG&quot;, suffix: &quot;&quot; },\r\n];\r\n\r\nasync function main(nodes): Promise {\r\n  if (!hasValidSelection(nodes)) return Promise.resolve(&quot;No valid selection&quot;);\r\n\r\n  for (let node of nodes) {\r\n    node.exportSettings = settings;\r\n  }\r\n\r\n  return Promise.resolve(&quot;Done!&quot;);\r\n}\r\n\r\nmain(selection).then((res) =&gt; figma.closePlugin(res));\r\n\r\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch2\u003EPublished plugins\u003C\u002Fh2\u003E\u003Cp\u003EBeyond these, I&rsquo;ve written a bunch of small utility plugins to make the designer life easier. You&rsquo;ll see them all on my site, but you can find them all \u003Ca href=\"https:\u002F\u002Fwww.figma.com\u002F@_kejk\"\u003Ehere\u003C\u002Fa\u003E also.\u003C\u002Fp\u003E\u003Cp\u003E\u003Cbr\u003E\u003C\u002Fp\u003E\u003Ch2\u003EIn the end, it&rsquo;s all about saving time\u003C\u002Fh2\u003E\u003Cp\u003EUltimately, we all want to save time and not do consistent, repetitive tasks each day. Figma plugins, and having the knowledge to write them, can be that solution for you. I can&rsquo;t count how many countless hours I&rsquo;ve saved myself by writing\r\nthe plugins I have and using plugins others have written too.\u003C\u002Fp\u003E\u003Cp\u003EIf you want to get started with Figma plugins, try out my Gists, or, follow \u003Ca href=\"https:\u002F\u002Falcohollick.com\u002Fwriting\u002Ffigma-plugin-tutorial-1-6\"\u003Ethis awesome tutorial\u003C\u002Fa\u003E from \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FDanHollick\"\u003EDan Hollick\u003C\u002Fa\u003E who shares a lot of my feelings about designers and code.\u003C\u002Fp\u003E\u003Cp\u003EIf you do end up creating anything awesome for your team, please send me a note and share some Gists! I love seeing what people are up to and seeing how I can adapt and utilise what they&rsquo;ve done like I hope people do with my shares.\u003C\u002Fp\u003E",metadata:{published:"2021-03-14",snippet:"There's a concept it DRY in development. It means Don't Repeat Yourself and is all about code reduct…",tag:"Development",latest:false,hero:{url:"https:\u002F\u002Fcdn.cosmicjs.com\u002F8be46da0-849c-11eb-9605-bb13d512ca1a-4E449253-D44B-4DDE-B881-900D1DC5C252.png",imgix_url:"https:\u002F\u002Fimgix.cosmicjs.com\u002F8be46da0-849c-11eb-9605-bb13d512ca1a-4E449253-D44B-4DDE-B881-900D1DC5C252.png"}},modified_at:"2021-03-15T08:17:56.504Z",order:null,__typename:"Object"}}],fetch:[],mutations:[]});