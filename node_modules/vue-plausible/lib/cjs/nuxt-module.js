"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.meta = void 0;
const path_1 = __importDefault(require("path"));
const defu_1 = __importDefault(require("defu"));
const defaultOptions = {
    domain: undefined,
    hashMode: undefined,
    trackLocalhost: undefined,
    apiHost: undefined
};
const PlausibleModule = function (moduleOptions) {
    const options = defu_1.default(Object.assign(Object.assign({}, this.options.plausible), moduleOptions), defaultOptions);
    this.addPlugin({
        src: path_1.default.resolve(__dirname, './nuxt-plugin.js'),
        mode: 'client',
        ssr: false,
        fileName: 'vue-plausible.client.js',
        options
    });
};
exports.default = PlausibleModule;
exports.meta = require('../../package.json');
